ecg_project/
├── firmware/
│   ├── signal_generator/
│   └── gateway/
│
├── python/
│   ├── core/
    │   ├── __init__.py
    │   ├── signal_processing.py       # R_peak_detector, BPMDetector, AD8232 (~350 lines)
    │   ├── data_handling.py           # Packet, PacketParser (~150 lines)
    │   └── logging.py  
│   │
│   ├── pipeline/                    # ⭐ Main automation workflow
│   │   ├── __init__.py
│   │   ├── master_controller.py    # Main entry point
│   │   ├── step1_generate.py       # Generate dataset
│   │   ├── step2_flash.py          # Flash firmware
│   │   ├── step3_batch.py          # Batch processing
│   │   ├── step4_stream.py         # Real-time streaming
│   │   └── config.py
│   │
│   ├── validation/                  # ⭐ Post-processing & QA
│   │   ├── __init__.py
│   │   ├── compare_peaks.py        # Peak comparison
│   │   ├── integrity_check.py      # Data validation
│   │   ├── generate_report.py      # Summary generation
│   │   └── metrics.py              # Statistics
│   │
│   └── tools/                       # Standalone utilities
│       ├── quick_batch_test.py
│       ├── quick_stream_test.py
│       └── dataset_generator.py
│
├── data/
│   └── runs/
│
├── datasets/
│   └── ECG_Data_P0000/
│
└── requirements.txt